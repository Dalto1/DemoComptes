syntax = "proto3";

import "google/protobuf/timestamp.proto";
import "google/protobuf/empty.proto";
import "Protos/ProtoTransaction.proto";

option csharp_namespace = "GRPC";

service ProtoAccount {
	rpc AccountCreate (ProtoAccountModel) returns (ProtoAccountModel);
	rpc AccountList (google.protobuf.Empty) returns (ProtoAccountResponse);
	rpc AccountDeleteAll (google.protobuf.Empty) returns (google.protobuf.Empty);
	
	rpc AccountFind (ProtoAccountNumber) returns (ProtoAccountModel);
	rpc AccountUpdate (ProtoAccountModel) returns (ProtoAccountModel);
	rpc AccountDelete (ProtoAccountNumber) returns (google.protobuf.Empty);
	
	rpc GetTransactionsByAccount (ProtoAccountNumber) returns (ProtoTransactionResponse);
	rpc DeleteTransactionsByAccount (ProtoAccountNumber) returns (google.protobuf.Empty);
}
message ProtoAccountModel {
	int32 AccountNumber = 1;
	int32 AccountBalance = 2;
    google.protobuf.Timestamp AccountCreationDate = 3;
	string AccountHolderFirstName = 4;
	string AccountHolderLastName = 5;
	bool IsActive = 6;
}
message ProtoAccountResponse {
	repeated ProtoAccountModel Account = 1;
}
message ProtoAccountNumber {
	int32 AccountNumber = 1;
}